# -- General -- #

set -sg repeat-time 600    # increase repeat timeout
set -g history-limit 5000  # boost history
set -s escape-time 0       # Allows for faster key repetition

# -- Display -- #
set -g base-index 0         # start windows numbering at 1
setw -g pane-base-index 0   # make pane numbering consistent with windows
set -g renumber-windows on  # renumber windows when a window is closed

set -g set-titles on        # set terminal title
set -g set-titles-string '#h ❐ #S ● #I #W'

# -- Bindings -- #
# Split panes using | and -
bind -r | split-window -h -c "#{pane_current_path}"
bind -r - split-window -v -c "#{pane_current_path}"

# Join & break pane
bind j join-pane -h -s !
bind J break-pane -t :

# Change space binding
# so it can be repeated
# to change layout
unbind Space
bind -r Space next-layout

# t - Change layout to my fav
unbind t
bind t select-layout main-horizontal \; select-pane -t {top-left} \; resize-pane -D 10

# i - Print pane Id
unbind i
bind i send-keys '${tmuxId}'

# R - Reload Tmux config
bind-key R source-file ~/.tmux.conf \; display-message " ✱ tmux.conf is reloaded"

# s - Sync and unsync panes
# Enabling sync change panes color
#unbind s
bind -n C-s if -F '#{pane_synchronized}' \
  'setw synchronize-panes off; \
   setw pane-active-border-style fg=green,bg=default; \
   setw pane-border-style default; \
   display-message " Pane sync OFF "' \
  'setw synchronize-panes on; \
   setw pane-active-border-style fg=red; \
   setw pane-border-style fg=yellow; \
   display-message " Pane synch ON "'

# Ctrl+Arrow - Change windows
bind-key -n C-Left select-window -t:-
bind-key -n C-Right select-window -t:+

# Ctrl+Shift+Arrows - Move windows around
bind-key -n C-S-Left swap-window -t -1
bind-key -n C-S-Right swap-window -t +1

# Alt+Arrow - Select pane
unbind Left
unbind Right
unbind Up
unbind Down
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Disable auto tab rename
set-option -g allow-rename off

# Status bar style
set -g status-left '#[fg=colour8,bg=colour4,bold] #S #[fg=colour4,bg=colour0,nobold,nounderscore,noitalics]'
set -g status-right '#[fg=colour7,bg=colour0,nobold,nounderscore,noitalics]#[fg=colour0,bg=colour7] %Y-%m-%d  %H:%M #[fg=colour4,bg=colour7,nobold,nounderscore,noitalics]#[fg=colour8,bg=colour4] #h '
setw -g window-status-format '#[fg=colour0,bg=colour7] #I#F #[fg=colour0,bg=colour7] #W #[fg=colour7,bg=colour0,nobold,nounderscore,noitalics]'
setw -g window-status-current-format '#[fg=colour0,bg=colour7,nobold,nounderscore,noitalics]#[fg=colour6,bg=colour7] #I#F #[fg=colour6,bg=colour7] #W #[fg=colour7,bg=colour0,nobold,nounderscore,noitalics]'
set -g window-status-separator ""
set -g status-bg black
